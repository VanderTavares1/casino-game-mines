{"ast":null,"code":"import axios from 'axios';\nconst api = axios.create({\n  baseURL: 'http://localhost:8080/usuario'\n});\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('authToken');\n\n  // Só adiciona o token se não for uma requisição marcada como \"sem autenticação\"\n  if (token && !config.skipAuth) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\nfunction getAuthToken() {\n  return localStorage.getItem(\"authToken\");\n}\nexport function infomacesToken() {\n  const token = getAuthToken();\n  return JSON.parse(Buffer.from(token.split(\".\")[1], \"base64\").toString());\n}\nexport function buscarTodosUsuários() {\n  return api.get('/buscarTodosUsuarios');\n}\nexport async function fazerLogin(usuario, senha) {\n  const response = await api.post(\"/login\", {\n    usuario,\n    senha\n  });\n  console.log('token >>>>', response.data);\n  localStorage.setItem('authToken', response.data.token);\n  return await response.data;\n}\nexport async function fazendoCadastro(nome, usuario, dataDeNascimento, senha, confirmarSenha, quantosGanho, quantosPerdeu, role) {\n  const response = await api.post(\"/addUsuario\", {\n    nome,\n    usuario,\n    dataDeNascimento,\n    senha,\n    confirmarSenha,\n    quantosGanho,\n    quantosPerdeu,\n    role\n  });\n}","map":{"version":3,"names":["axios","api","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","skipAuth","headers","Authorization","getAuthToken","infomacesToken","JSON","parse","Buffer","from","split","toString","buscarTodosUsuários","get","fazerLogin","usuario","senha","response","post","console","log","data","setItem","fazendoCadastro","nome","dataDeNascimento","confirmarSenha","quantosGanho","quantosPerdeu","role"],"sources":["/home/youx/Área de Trabalho/teste/casa-de-aposta/src/utils/api.js"],"sourcesContent":["\nimport axios from 'axios'\n\nconst api = axios.create({\n    baseURL: 'http://localhost:8080/usuario'\n})\n\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('authToken');\n\n  // Só adiciona o token se não for uma requisição marcada como \"sem autenticação\"\n  if (token && !config.skipAuth) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n\n  return config;\n});\n\n\nfunction getAuthToken(){\n    return localStorage.getItem(\"authToken\");\n}\n\nexport function infomacesToken() {\n  const token = getAuthToken();\n  return JSON.parse(Buffer.from(token.split(\".\")[1], \"base64\").toString());\n}\n\nexport function buscarTodosUsuários () {\n    return api.get('/buscarTodosUsuarios')\n}\n\nexport async function fazerLogin(usuario, senha){\n    const response = await api.post(\"/login\", {usuario, senha})\n    console.log('token >>>>', response.data);\n    localStorage.setItem('authToken', response.data.token);\n    return await response.data;\n}\n\nexport async function fazendoCadastro(nome, usuario, dataDeNascimento, senha, confirmarSenha, quantosGanho, quantosPerdeu, role) {\n  const response = await api.post(\"/addUsuario\", {nome, usuario, dataDeNascimento, senha, confirmarSenha, quantosGanho, quantosPerdeu, role})\n}"],"mappings":"AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACrBC,OAAO,EAAE;AACb,CAAC,CAAC;AAEFF,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAACC,MAAM,IAAI;EACrC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;;EAE/C;EACA,IAAIF,KAAK,IAAI,CAACD,MAAM,CAACI,QAAQ,EAAE;IAC7BJ,MAAM,CAACK,OAAO,CAACC,aAAa,GAAG,UAAUL,KAAK,EAAE;EAClD;EAEA,OAAOD,MAAM;AACf,CAAC,CAAC;AAGF,SAASO,YAAYA,CAAA,EAAE;EACnB,OAAOL,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;AAC5C;AAEA,OAAO,SAASK,cAAcA,CAAA,EAAG;EAC/B,MAAMP,KAAK,GAAGM,YAAY,CAAC,CAAC;EAC5B,OAAOE,IAAI,CAACC,KAAK,CAACC,MAAM,CAACC,IAAI,CAACX,KAAK,CAACY,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAC;AAC1E;AAEA,OAAO,SAASC,mBAAmBA,CAAA,EAAI;EACnC,OAAOrB,GAAG,CAACsB,GAAG,CAAC,sBAAsB,CAAC;AAC1C;AAEA,OAAO,eAAeC,UAAUA,CAACC,OAAO,EAAEC,KAAK,EAAC;EAC5C,MAAMC,QAAQ,GAAG,MAAM1B,GAAG,CAAC2B,IAAI,CAAC,QAAQ,EAAE;IAACH,OAAO;IAAEC;EAAK,CAAC,CAAC;EAC3DG,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEH,QAAQ,CAACI,IAAI,CAAC;EACxCtB,YAAY,CAACuB,OAAO,CAAC,WAAW,EAAEL,QAAQ,CAACI,IAAI,CAACvB,KAAK,CAAC;EACtD,OAAO,MAAMmB,QAAQ,CAACI,IAAI;AAC9B;AAEA,OAAO,eAAeE,eAAeA,CAACC,IAAI,EAAET,OAAO,EAAEU,gBAAgB,EAAET,KAAK,EAAEU,cAAc,EAAEC,YAAY,EAAEC,aAAa,EAAEC,IAAI,EAAE;EAC/H,MAAMZ,QAAQ,GAAG,MAAM1B,GAAG,CAAC2B,IAAI,CAAC,aAAa,EAAE;IAACM,IAAI;IAAET,OAAO;IAAEU,gBAAgB;IAAET,KAAK;IAAEU,cAAc;IAAEC,YAAY;IAAEC,aAAa;IAAEC;EAAI,CAAC,CAAC;AAC7I","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}