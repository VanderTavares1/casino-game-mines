{"ast":null,"code":"import axios from 'axios';\nimport jwtDecode from \"jwt-decode\";\nconst api = axios.create({\n  baseURL: 'http://localhost:8080/usuario'\n});\nconst apiEmail = axios.create({\n  baseURL: 'http://localhost:8080/email'\n});\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('authToken');\n  console.log('config token intercept >>>>>', token);\n  const payload = jwtDecode(token);\n  console.log(payload);\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\nfunction getAuthToken() {\n  return localStorage.getItem(\"authToken\");\n}\nexport function infomacesToken() {\n  const token = getAuthToken();\n  return JSON.parse(Buffer.from(token.split(\".\")[1], \"base64\").toString());\n}\nexport function buscarTodosUsuários() {\n  return api.get('/buscarTodosUsuarios');\n}\nexport async function fazerLogin(usuario, senha) {\n  const response = await api.post(\"/login\", {\n    usuario,\n    senha\n  });\n  console.log('token >>>>', response.data);\n  localStorage.setItem('authToken', response.data.token);\n  return await response.data;\n}\nexport async function fazendoCadastro(nome, usuario, dataDeNascimento, qntdJogosFeitos, senha, confirmarSenha, quantosGanho, quantosPerdeu, qntdDinheiro, role) {\n  const response = await api.post(\"/addUsuario\", {\n    nome,\n    usuario,\n    dataDeNascimento,\n    qntdJogosFeitos,\n    senha,\n    confirmarSenha,\n    quantosGanho,\n    quantosPerdeu,\n    qntdDinheiro,\n    role\n  });\n  return await response.data;\n}\nexport async function requisicaoParaTrocarDeSenha(usuario) {\n  const response = await apiEmail.post(\"/recuperar-senha\", {\n    usuario\n  });\n  return await response.data;\n}\nexport async function buscarUsuarioLogado() {\n  const response = await api.get(\"/home\");\n  return response.data;\n}\nexport async function enviandoDadosIniciaisDaAposta(qntdBombas, apostaInicial) {\n  const response = await api.post(\"/home/mines/dados\", {\n    qntdBombas,\n    apostaInicial\n  });\n  return response.data;\n}\nexport async function enviandoCaixaEscolhida(posicao_escolhida) {\n  const response = await api.post(\"/id/jogos\", {\n    posicao_escolhida\n  });\n  return response.data;\n}","map":{"version":3,"names":["axios","jwtDecode","api","create","baseURL","apiEmail","interceptors","request","use","config","token","localStorage","getItem","console","log","payload","headers","Authorization","error","Promise","reject","getAuthToken","infomacesToken","JSON","parse","Buffer","from","split","toString","buscarTodosUsuários","get","fazerLogin","usuario","senha","response","post","data","setItem","fazendoCadastro","nome","dataDeNascimento","qntdJogosFeitos","confirmarSenha","quantosGanho","quantosPerdeu","qntdDinheiro","role","requisicaoParaTrocarDeSenha","buscarUsuarioLogado","enviandoDadosIniciaisDaAposta","qntdBombas","apostaInicial","enviandoCaixaEscolhida","posicao_escolhida"],"sources":["/home/youx/Área de Trabalho/teste/casa-de-aposta/src/utils/api.js"],"sourcesContent":["\nimport axios from 'axios'\nimport jwtDecode from \"jwt-decode\";\n\nconst api = axios.create({\n    baseURL: 'http://localhost:8080/usuario'\n})\n\nconst apiEmail = axios.create({\n  baseURL: 'http://localhost:8080/email'\n})\n\napi.interceptors.request.use(config => {\n    const token = localStorage.getItem('authToken');\n    console.log('config token intercept >>>>>', token)\n    const payload = jwtDecode(token);\n    console.log(payload);\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\nfunction getAuthToken(){\n    return localStorage.getItem(\"authToken\");\n}\n\nexport function infomacesToken() {\n  const token = getAuthToken();\n  return JSON.parse(Buffer.from(token.split(\".\")[1], \"base64\").toString());\n}\n\nexport function buscarTodosUsuários () {\n    return api.get('/buscarTodosUsuarios')\n}\n\nexport async function fazerLogin(usuario, senha){\n    const response = await api.post(\"/login\", {usuario, senha})\n    console.log('token >>>>', response.data);\n    localStorage.setItem('authToken', response.data.token);\n    return await response.data;\n}\n\nexport async function fazendoCadastro(nome, usuario, dataDeNascimento, qntdJogosFeitos, senha, confirmarSenha, quantosGanho, quantosPerdeu, qntdDinheiro, role) {\n  const response = await api.post(\"/addUsuario\", {nome, usuario, dataDeNascimento, qntdJogosFeitos, senha, confirmarSenha, quantosGanho, quantosPerdeu,qntdDinheiro, role})\n  return await response.data;\n}\n\nexport async function requisicaoParaTrocarDeSenha(usuario){\n  const response = await apiEmail.post(\"/recuperar-senha\", {usuario})\n  return await response.data\n}\n\nexport async function buscarUsuarioLogado() {\n  const response = await api.get(\"/home\")\n  return response.data\n}\n\nexport async function enviandoDadosIniciaisDaAposta(qntdBombas, apostaInicial) {\n  const response = await api.post(\"/home/mines/dados\", {qntdBombas, apostaInicial});\n  return response.data;\n}\n\nexport async function enviandoCaixaEscolhida(posicao_escolhida) {\n  const response = await api.post(\"/id/jogos\", { posicao_escolhida });\n  return response.data;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}